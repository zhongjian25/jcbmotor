$define([],function(a){return a.extend({confirm:function(n){var t,o=a.extend({title:"这里是标题",text:"这里内容描述",cancelBtnText:"取消",confirmBtnText:"确定",cancelFun:function(){},confirmFun:function(){},cancelBtn:!0,confirmBtn:!0,closeBtn:!0,existTime:"",existFun:function(){}},n),c="message"+ +new Date,e=function(n){a("#"+n).fadeOut(500);var t=setTimeout(function(){a("#"+n).remove(),clearTimeout(t)},500)},i=function(){var n={className:"",html:""};return"success"==o.type?(n.className="r_hasIcon",n.html='<i class="iconfont icon-iconfontzhengquetishitianchong success"></i>'):"warning"==o.type?(n.className="r_hasIcon",n.html='<i class="iconfont icon-iconfontcuowu2 warning"></i>'):"error"==o.type&&(n.className="r_hasIcon",n.html='<i class="iconfont icon-iconfontcuowu error"></i>'),n};if(a("body").append('<div class="r_confirm" id="'+c+'">                    <div class="r_confirm_con '+i().className+'">                        '+(t="",o.closeBtn&&(t='<span class="r_confirm_close closeBtn">x</span>'),t)+"                        "+i().html+'                        <p class="r_confirm_title">'+o.title+'</p>                        <p class="r_confirm_content">'+o.text+"</p>                        "+function(){var n,t=/\{\{[a-zA-Z0-9]+\}\}/;if(o.cancelBtn||o.confirmBtn){if(n='<div class="r_confirm_oprate">',o.cancelBtn&&(n+='<button type="button" class="btn btn-default btn-sm cancelBtn">'+o.cancelBtnText+"</button>"),t.test(o.confirmBtnText)){var c=o.confirmBtnText.match(t),e=c[0].replace("{{","").replace("}}","");o[e];var i='<span class="r_interTime">'+o[e]+"</span>";o.confirmBtnText=o.confirmBtnText.replace(c[0],i)}o.confirmBtn&&(n+='<button type="button" class="btn btn-primary btn-sm submitBtn">'+o.confirmBtnText+"</button>"),n+="</div>"}else n="";return n}()+"                    </div>                </div>"),a("body #"+c).on("click",".cancelBtn",function(){o.cancelFun&&"function"==typeof o.cancelFun&&o.cancelFun(),e(c)}).on("click",".submitBtn",function(){o.confirmFun&&"function"==typeof o.confirmFun&&o.confirmFun(),e(c)}).on("click",".closeBtn",function(){e(c)}),o.existTime&&0<Number(o.existTime)){var s=setTimeout(function(){e(c),o.existFun(),clearTimeout(s)},1e3*Number(o.existTime));a(".r_interTime").html(o.existTime--);var r=setInterval(function(){a(".r_interTime").html(o.existTime--),o.existTime<0&&clearInterval(r)},1e3)}}}),a});