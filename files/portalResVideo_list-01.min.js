$define(["wgt_util","wgt_readyload","jquery.mediaQuery","md5"],function(a,m,p,e,r){var s=function(a,e){var r,t,i,n=e.picParams.defaultImage,p=e.picParams.definedDefaultImage;r=a,i=n,1==(t=p)||"true"==t?m(".js_thumb",r).onErrorImg(i):m(".js_thumb",r).onErrorImg();var s=2;if(e.picParams.cuttingMode&&(s=1),e.picParams.isRate){var u=e.picParams.widthOfRate/e.picParams.heightOfRate;a.find(".p_images").putPhotoDiv(s,u)}else a.find(".p_images").putPhotoDiv(s)};function u(e,a,r){var t={ids:r,tenantId:a.tenantId};!function(e,r,a,t,i,n,p){var s={};s.request_url=a,s.url_param=t,s.requst_type=i||"GET";var u=encodeURIComponent(encodeURIComponent(JSON.stringify(s))),o=m.md5Sign(JSON.stringify(s));m.ajax({type:"POST",url:"/comp/portalRouter",async:p||p===undefined,data:{param:u,sign:o},success:function(a){n(a,e,r)},error:function(){}})}(e,a,"/dssresources/videoRepository/getPlayNumByIds",t,"GET",function(a){!function r(a,e){if("200"==a.code){var t=JSON.parse(a.data);"200"==t.status&&m(".p_articles",e).each(function(a,r){m.each(t.data,function(a,e){if(m(r).data("videoid")===e.id)return m(r).find(".js_playNum").length&&m(r).find(".js_playNum").html(e.playNum),!1})})}}(a,e)})}return{init:function(){params=this._params;var a,e,i=$compCl.getScope(params.id);params.picParams.appId;a=i,(e=params).textParams.isCutOfName&&m(".p_linkC",a).fixLineN(e.textParams.linesOfCutOfName),e.textParams.isCutOfSummary&&m(".p_summary",a).fixLineN(e.textParams.linesOfCutOfSummary),768==m.mediaQuery({node:!0})?function r(){m(".p_OccupyBox .p_page").hide(),0<m(".p_OccupyBox .p_pagebox").length?m(".p_OccupyBox .p_pagebox").show():("turnPage"==params.pageParam.turnPageType&&m(".p_Video",i).removeAttr("isServerPaging"),function t(a,e){var r={firstRefresh:!1};r.url=e.pageParam.url,r.data=e.pageParam,r.successFun=function(a){},m(".p_Video",a).resPaging(r)}(i,params))}():7681024!=m.mediaQuery({node:!0})&&1024!=m.mediaQuery({node:!0})||function n(){m(".p_OccupyBox .p_pagebox").hide(),0<m(".p_OccupyBox .p_page").length&&m(".p_OccupyBox .p_page").show(),"turnPage"==params.pageParam.turnPageType&&m(".p_Video",i).removeAttr("isServerPaging"),function r(a,e){e.pageParam.url,m(".p_Video",a).resPaging(e.pageParam)}(i,params)}(),s(i,params),params.tenantId=window.tenant.id;var t="";m(".p_articles",i).each(function(a,e){var r=m(this).data("videoid");r&&(t+=(a?",":"")+r)}),t&&u(i,params,t),p.lazyImg()}}});