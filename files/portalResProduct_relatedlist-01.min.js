$define(["wgt_util","wgt_readyload","jquery.adFocus","jquery.mediaQuery"],function(a,c,r,e,t){var o=function(a,e){var t,i,n,r=e.defaultImage,u=e.definedDefaultImage;t=a,n=r,1==(i=u)||"true"==i?c(".p_images img",t).onErrorImg(n):c(".p_images img",t).onErrorImg();var o=2;if(e.isOpenCutMode&&(o=1),e.isRate){var p=e.widthOfRate/e.heightOfRate;c(".p_image",a).putPhotoDiv(o,p)}else c(".p_image",a).putPhotoDiv(o)};function p(a,e){!function t(a,i){a.find(".p_imagesPc").each(function(a){var e=jQuery.extend(!0,{},i),t=c(this).attr("imgData");c(this).removeAttr("imgData"),t&&(e.data=JSON.parse(t),c(this).adFocus(e)),c(this).find(".p_linkB").attr("href",c(this).data("url"))})}(e,a.imageOpts)}function m(a,e){if(!function n(a){return a==undefined||null==a||0==a.length}(a)){var t=c(e).parent(".p_interaction").find(".js_compareFloatData"),i={image:t.attr("image"),name:t.attr("name"),id:t.attr("id"),templateId:t.attr("templateId")};$compCl.getAllInitFunc()[a].add(i),r.lazyImg()}}return{init:function(){var a,e,n=this._params,r=$compCl.getScope(n.id);768==c.mediaQuery({node:!0})?function t(){c(".p_OccupyBox .p_page").hide(),0<c(".p_OccupyBox .p_pagebox").length?c(".p_OccupyBox .p_pagebox").show():("turnPage"==n.pageParam.turnPageType&&c(".p_products",r).removeAttr("isServerPaging"),function i(a,e){var t={firstRefresh:!1};t.url=e.pageParam.url,t.data=e.pageParam,t.successFun=function(a){},c(".p_products",a).resPaging(t)}(r,n))}():7681024!=c.mediaQuery({node:!0})&&1024!=c.mediaQuery({node:!0})||function i(){p(n,r),c(".p_OccupyBox .p_pagebox").hide(),0<c(".p_OccupyBox .p_page").length&&c(".p_OccupyBox .p_page").show(),"turnPage"==n.pageParam.turnPageType&&c(".p_products",r).removeAttr("isServerPaging"),function t(a,e){e.pageParam.url,c(".p_products",a).resPaging(e.pageParam)}(r,n)}(),function u(a,e){e.find(".p_addInquiry").unbind("click").click(function(){var a=c(".js-protalResProductEnquiry_floating_compId").val(),e=c("#"+a);"none"==e.css("display")&&e.show(),m(a,this)}),e.find(".p_btnB").unbind("click").click(function(){var a=c(".js-protalResProduct_floating_compId").val(),e=c("#"+a);"none"==e.css("display")&&e.show(),m(a,this)})}(0,r),a=r,(e=n.textParams).isCutOfName&&c(".d_title",a).fixLineN(e.linesOfCutOfName),e.isCutOfSummary&&c(".d_summary",a).fixLineN(e.linesOfCutOfSummary),e.categorySummary&&c(".p_categorySummary",a).fixLineN(e.categorySummaryMaxLen),o(r,n.picParams)}}});