$define(["wgt_util","wgt_readyload","jquery.qrcode","swiper4.4.2","jquery.mediaQuery"],function(u,e,y,a,t,i){return{init:function(e){var a,t,i=(e=this._params).id,n=$compCl.getScope(i),r=(e.params.imgRelativeData,"fraction"),s=!1,o=function(){n.find(".p_imgsBox").length<=0||(t&&t.destroy(),a&&a.destroy(),t=new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),a=new Swiper(".gallery-top",{autoplay:{delay:2e3,disableOnInteraction:!1},spaceBetween:0,slidesPerView:"auto",pagination:{el:".swiper-pagination",type:r,bulletClass:"dot",bulletActiveClass:"current",clickable:s},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t}}),e.params.autoPlay?a.autoplay&&a.autoplay.start():a.autoplay&&a.autoplay.stop())};if(u.mediaQuery({callback1024:function(){r="fraction",o()},callback7681024:function(){r="fraction",o()},callback768:function(){r="bullets",s=!0,o()},keep:!0}),e.params.c_qrcode){n.find(".p_SaveText").css("display","block");var l=commonShortUrl+e.params.c_qrcode,c=e.params.qrcodeWidth,p=e.params.qrcodeHeight;n.find(".js_qrcode").qrcode({width:c,height:p,render:"canvas",text:l})}else n.find(".p_SaveText").css("display","none");y.lazyImg(),function d(t){var e={id:parseInt(t.find(".p_NewsDetail").attr("data-infoid")),appTag:3};u.ajax({type:"GET",url:"/commentViewCount/ajax/updateAndGetViewCount",data:e,async:!1,success:function(e){var a=JSON.parse(e);a&&200==a.status&&t.find(".p_viewCount").html(a.data)}})}(n)}}});